stages:

- stage: Validate
  pool:
    vmImage: 'ubuntu-latest'
  jobs:
  
  - job: Import
    continueOnError: false
    steps:
    
    # Terraform bootstrap
    - template: ../Steps/bootstrap.yml
    
    # Terraform workspace new
    - template: ../Steps/workspace_new.yml

    # Terraform validate
    - template: ../Steps/terraform.yml
      parameters:
        name: 'Validate'
        displayName: 'Terraform Validate'
        command: 'validate'
